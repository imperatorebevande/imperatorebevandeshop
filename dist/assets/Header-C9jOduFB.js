import{j as e,at as S,B as x,a5 as a,l as d,X as b,a0 as w,a6 as T,E as k}from"./ui-vendor-BbdbCsUZ.js";import{r}from"./react-vendor-DTdTrAaS.js";import{u as O,d as Q,L as s}from"./router-vendor-Dt4hhyuR.js";import{a as V,u as U}from"./index-CU51xw2J.js";import{B as i}from"./button-DV96QXU2.js";import{I as L}from"./input-BScXBkmv.js";import{B as A}from"./badge-Dt5wVqj5.js";const Y=()=>{const{state:v}=V(),{authState:m}=U(),[o,h]=r.useState(!1),[u,B]=r.useState(!0),[n,g]=r.useState(!1),l=v.items.reduce((t,j)=>t+j.quantity,0),[c,f]=r.useState(""),I=O(),q=Q(),z=r.useRef(null),p=r.useRef(null),N=r.useRef(null);r.useEffect(()=>{const t=()=>{window.innerWidth<1050?B(!1):B(!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r.useEffect(()=>{const t=j=>{var E,M;const y=j.target,F=p.current&&p.current.contains(y),H=N.current&&N.current.contains(y),D=y.closest("button")&&((M=(E=y.closest("button"))==null?void 0:E.textContent)==null?void 0:M.includes("Shop"));!F&&!H&&!D&&o&&(h(!1),g(!1))};return o&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[o]),r.useEffect(()=>{h(!1),g(!1)},[q.pathname]);const C=t=>{t.preventDefault(),c.trim()&&I(`/prodotti?search=${encodeURIComponent(c.trim())}`)},R=()=>{f("")};return e.jsxs("header",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:[e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-center h-28 relative",children:[u&&e.jsxs("nav",{className:"flex space-x-4 mr-2",children:[e.jsx(s,{to:"/",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",style:{"--hover-color":"#1B5AAB"},onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Home"}),e.jsx(s,{to:"/prodotti",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Shop"}),e.jsx(s,{to:"/prodotti/categoria/acqua",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Acqua"}),e.jsx(s,{to:"/prodotti/categoria/bevande",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Bevande"})]}),e.jsx(s,{to:"/",className:"flex items-center mx-4",children:e.jsx("img",{src:"http://www.imperatorebevande.it/wp-content/uploads/2022/08/logo-imperatore.png",alt:"Imperatore Bevande",className:"w-auto",style:{height:"170px"}})}),u&&e.jsxs("nav",{className:"flex space-x-4 ml-2",children:[e.jsx(s,{to:"/prodotti?category=birra",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Birra"}),e.jsx(s,{to:"/prodotti?category=vino",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Vino"}),e.jsx(s,{to:"/contatti",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"Contatti"}),e.jsx(s,{to:"/faq",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:t=>t.currentTarget.style.color="#1B5AAB",onMouseLeave:t=>t.currentTarget.style.color="",children:"FAQ"})]}),!u&&e.jsx("div",{className:"absolute left-4",children:e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>h(!o),children:e.jsx(S,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"absolute right-0 flex items-center space-x-4",children:[e.jsx(s,{to:"/cart",className:"relative",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"relative flex flex-col items-center",style:{color:"#1B5AAB"},children:[e.jsx(x,{className:"w-4 h-4"}),l>0&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500",children:l}),e.jsxs("span",{className:"text-xs mt-1",children:["€",v.total.toFixed(2)]})]})]})}),e.jsx(s,{to:"/account",children:e.jsx(i,{variant:"ghost",size:"sm",className:m.isAuthenticated?"text-green-600":"text-gray-600",children:e.jsx(a,{className:"w-4 h-4"})})})]})]})}),e.jsx("div",{className:"bg-[#1B5AAB] py-2",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-md mx-auto relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(L,{type:"search",placeholder:"Cerca prodotti...",className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:c,onChange:t=>f(t.target.value),ref:z,onKeyDown:t=>{t.key==="Enter"&&C(t)}}),c&&e.jsx("button",{onClick:R,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(b,{className:"w-4 h-4"})})]})})}),!u&&o&&e.jsx("div",{className:"border-t bg-white shadow-lg max-h-96 overflow-y-auto",children:e.jsxs("nav",{className:"container mx-auto px-4 py-2 space-y-2",children:[e.jsxs(s,{to:"/",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Home"]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>g(!n),className:"flex items-center justify-between w-full text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}),"Shop"]}),n?e.jsx(T,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"})]}),n&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsxs(s,{to:"/prodotti",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),"Tutti i prodotti"]}),e.jsxs(s,{to:"/prodotti?category=acqua",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})}),"Acqua"]}),e.jsxs(s,{to:"/prodotti/categoria/birra",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full"})}),"Birra"]}),e.jsxs(s,{to:"/prodotti/categoria/bevande",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})}),"Bevande"]}),e.jsxs(s,{to:"/prodotti/categoria/vino",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})}),"Vino"]})]})]}),e.jsxs(s,{to:"/chisiamo",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Chi siamo"]}),e.jsxs(s,{to:"/contatti",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Contatti"]}),e.jsxs(s,{to:"/faq",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-bold",children:"?"})}),"FAQ"]}),e.jsxs(s,{to:"/cart",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Carrello (",l,")"]}),m.isAuthenticated?e.jsxs(s,{to:"/account",className:"flex items-center text-green-600 hover:text-green-800 transition-colors py-2",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Il mio account"]}):e.jsxs(s,{to:"/login",className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors py-2",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Accedi"]}),e.jsxs(s,{to:"/admin",className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors py-2 text-sm",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"text-xs",children:"⚙️"})}),"Admin"]})]})})]}),e.jsxs("div",{className:"lg:hidden",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(i,{ref:N,variant:"ghost",size:"sm",onClick:()=>h(!o),children:o?e.jsx(b,{className:"w-5 h-5"}):e.jsx(S,{className:"w-5 h-5"})}),e.jsx(s,{to:"/",className:"flex-grow text-center",children:e.jsx("h1",{className:"text-xl font-bold",style:{color:"#1B5AAB"},children:"IMPERATORE BEVANDE"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(s,{to:"/cart",className:"relative",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"relative flex flex-col items-center",style:{color:"#1B5AAB"},children:[e.jsx(x,{className:"w-4 h-4"}),l>0&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500",children:l}),e.jsxs("span",{className:"text-xs mt-1",children:[v.total.toFixed(2),"€"]})]})]})}),e.jsx(s,{to:"/account",children:e.jsx(i,{variant:"ghost",size:"sm",className:m.isAuthenticated?"text-green-600":"text-gray-600",children:e.jsx(a,{className:"w-4 h-4"})})})]})]})}),e.jsx("div",{className:"bg-[#1B5AAB] py-2",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-md mx-auto relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(L,{type:"search",placeholder:"Cerca prodotti...",className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:c,onChange:t=>f(t.target.value),onKeyDown:t=>{t.key==="Enter"&&C(t)}}),c&&e.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(b,{className:"w-4 h-4"})})]})})}),o&&e.jsx("div",{ref:p,className:"border-t bg-white max-h-96 overflow-y-auto",children:e.jsxs("nav",{className:"px-4 py-2 pb-20 lg:pb-2 space-y-2",children:[e.jsxs(s,{to:"/",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Home"]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>g(!n),className:"flex items-center justify-between w-full text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}),"Shop"]}),n?e.jsx(T,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"})]}),n&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsxs(s,{to:"/prodotti",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),"Tutti i prodotti"]}),e.jsxs(s,{to:"/prodotti?category=acqua",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})}),"Acqua"]}),e.jsxs(s,{to:"/prodotti/categoria/birra",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full"})}),"Birra"]}),e.jsxs(s,{to:"/prodotti/categoria/bevande",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})}),"Bevande"]}),e.jsxs(s,{to:"/prodotti/categoria/vino",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})}),"Vino"]})]})]}),e.jsxs(s,{to:"/chisiamo",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Chi siamo"]}),e.jsxs(s,{to:"/contatti",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Contatti"]}),e.jsxs(s,{to:"/faq",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-bold",children:"?"})}),"FAQ"]}),e.jsxs(s,{to:"/cart",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Carrello (",l,")"]}),m.isAuthenticated?e.jsxs(s,{to:"/account",className:"flex items-center text-green-600 hover:text-green-800 transition-colors py-2",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Il mio account"]}):e.jsxs(s,{to:"/login",className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors py-2",children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"Accedi"]})]})})]}),e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t z-50",children:e.jsxs("div",{className:"flex justify-around",children:[e.jsxs(s,{to:"/",className:"flex flex-col items-center py-2 px-3 text-gray-600",children:[e.jsx(w,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),e.jsxs(s,{to:"/prodotti",className:"flex flex-col items-center py-2 px-3 text-gray-600",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"}),e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"}),e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"}),e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"})]})}),e.jsx("span",{className:"text-xs mt-1",children:"Categorie"})]}),e.jsxs(s,{to:"/prodotti?search=focus",className:"flex flex-col items-center py-2 px-3 text-blue-600 bg-blue-50 rounded-lg mx-1",children:[e.jsx(d,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1 font-medium",children:"Cerca"})]}),e.jsxs(s,{to:"/cart",className:"flex flex-col items-center py-2 px-3 text-gray-600 relative",children:[e.jsx(x,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Carrello"}),l>0&&e.jsx(A,{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full p-0 flex items-center justify-center text-xs bg-red-500",children:l})]}),e.jsxs(s,{to:"/account",className:"flex flex-col items-center py-2 px-3 text-gray-600",children:[e.jsx(a,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Account"})]})]})})]})};export{Y as H};
