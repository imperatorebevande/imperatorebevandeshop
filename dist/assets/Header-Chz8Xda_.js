import{j as e,ak as T,v as u,$ as l,l as f,X as b,U as w,ai as S,x as I}from"./ui-vendor-CBu0MraC.js";import{r as n}from"./react-vendor-DTdTrAaS.js";import{c as D,L as t}from"./router-vendor-C3VyKldT.js";import{c as Q,d as U,a as W,u as K}from"./index-I5fS8uHh.js";import{B as m,I as L}from"./input-BrCX-FV-.js";const $=U("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C({className:h,variant:i,...a}){return e.jsx("div",{className:Q($({variant:i}),h),...a})}const _=()=>{const{state:h}=W(),{authState:i}=K(),[a,r]=n.useState(!1),[g,B]=n.useState(!0),[x,v]=n.useState(!1),o=h.items.reduce((s,j)=>s+j.quantity,0),[d,y]=n.useState(""),O=D(),q=n.useRef(null),p=n.useRef(null),N=n.useRef(null);n.useEffect(()=>{const s=()=>{window.innerWidth<1050?B(!1):B(!0)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),n.useEffect(()=>{const s=j=>{var E,M;const c=j.target,A=p.current&&p.current.contains(c),R=N.current&&N.current.contains(c),F=c.tagName==="A"||c.closest("a"),H=c.closest("button")&&((M=(E=c.closest("button"))==null?void 0:E.textContent)==null?void 0:M.includes("Shop")),V=(c.tagName==="BUTTON"||c.closest("button"))&&A&&!H;!A&&!R&&!(F||V)&&a&&(r(!1),v(!1))};return a&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[a]);const k=s=>{s.preventDefault(),d.trim()&&O(`/products?search=${encodeURIComponent(d.trim())}`)},z=()=>{y("")};return e.jsxs("header",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:[e.jsxs("div",{className:"hidden md:block",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-center h-28 relative",children:[g&&e.jsxs("nav",{className:"flex space-x-4 mr-2",children:[e.jsx(t,{to:"/",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",style:{"--hover-color":"#1B5AAB"},onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Home"}),e.jsx(t,{to:"/products",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Shop"}),e.jsx(t,{to:"/products?category=acqua",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Acqua"}),e.jsx(t,{to:"/products?category=bevande",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Bevande"})]}),e.jsx(t,{to:"/",className:"flex items-center mx-4",children:e.jsx("img",{src:"http://www.imperatorebevande.it/wp-content/uploads/2022/08/logo-imperatore.png",alt:"Imperatore Bevande",className:"w-auto",style:{height:"170px"}})}),g&&e.jsxs("nav",{className:"flex space-x-4 ml-2",children:[e.jsx(t,{to:"/products?category=birra",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Birra"}),e.jsx(t,{to:"/products?category=vino",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Vino"}),e.jsx(t,{to:"/contact",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"Contatti"}),e.jsx(t,{to:"/faq",className:"text-gray-700 transition-all duration-200 font-medium px-2 py-2 rounded-md hover:bg-blue-50 hover:font-bold hover:text-lg",onMouseEnter:s=>s.currentTarget.style.color="#1B5AAB",onMouseLeave:s=>s.currentTarget.style.color="",children:"FAQ"})]}),!g&&e.jsx("div",{className:"absolute left-4",children:e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>r(!a),children:e.jsx(T,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"absolute right-0 flex items-center space-x-4",children:[e.jsx(t,{to:"/cart",className:"relative",children:e.jsxs(m,{variant:"ghost",size:"sm",className:"relative flex flex-col items-center",style:{color:"#1B5AAB"},children:[e.jsx(u,{className:"w-4 h-4"}),o>0&&e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500",children:o}),e.jsxs("span",{className:"text-xs mt-1",children:["â‚¬",h.total.toFixed(2)]})]})]})}),e.jsx(t,{to:"/account",children:e.jsx(m,{variant:"ghost",size:"sm",className:i.isAuthenticated?"text-green-600":"text-gray-600",children:e.jsx(l,{className:"w-4 h-4"})})})]})]})}),e.jsx("div",{className:"bg-[#1B5AAB] py-2",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-md mx-auto relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(L,{type:"search",placeholder:"Cerca prodotti...",className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:d,onChange:s=>y(s.target.value),ref:q,onKeyDown:s=>{s.key==="Enter"&&k(s)}}),d&&e.jsx("button",{onClick:z,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(b,{className:"w-4 h-4"})})]})})}),!g&&a&&e.jsx("div",{className:"border-t bg-white shadow-lg max-h-96 overflow-y-auto",children:e.jsxs("nav",{className:"container mx-auto px-4 py-2 space-y-2",children:[e.jsxs(t,{to:"/",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Home"]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>v(!x),className:"flex items-center justify-between w-full text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}),"Shop"]}),x?e.jsx(S,{className:"w-4 h-4"}):e.jsx(I,{className:"w-4 h-4"})]}),x&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsxs(t,{to:"/products",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),"Tutti i prodotti"]}),e.jsxs(t,{to:"/products?category=acqua",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})}),"Acqua"]}),e.jsxs(t,{to:"/products?category=birra",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full"})}),"Birra"]}),e.jsxs(t,{to:"/products?category=bevande",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})}),"Bevande"]}),e.jsxs(t,{to:"/products?category=vino",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})}),"Vino"]})]})]}),e.jsxs(t,{to:"/about",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Chi siamo"]}),e.jsxs(t,{to:"/contact",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Contatti"]}),e.jsxs(t,{to:"/faq",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-bold",children:"?"})}),"FAQ"]}),e.jsxs(t,{to:"/cart",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Carrello (",o,")"]}),i.isAuthenticated?e.jsxs(t,{to:"/account",className:"flex items-center text-green-600 hover:text-green-800 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Il mio account"]}):e.jsxs(t,{to:"/login",className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Accedi"]})]})})]}),e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(m,{ref:N,variant:"ghost",size:"sm",onClick:()=>r(!a),children:a?e.jsx(b,{className:"w-5 h-5"}):e.jsx(T,{className:"w-5 h-5"})}),e.jsx(t,{to:"/",className:"flex-grow text-center",children:e.jsx("h1",{className:"text-xl font-bold",style:{color:"#1B5AAB"},children:"IMPERATORE BEVANDE"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{to:"/cart",className:"relative",children:e.jsxs(m,{variant:"ghost",size:"sm",className:"relative flex flex-col items-center",style:{color:"#1B5AAB"},children:[e.jsx(u,{className:"w-4 h-4"}),o>0&&e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500",children:o}),e.jsxs("span",{className:"text-xs mt-1",children:[h.total.toFixed(2),"â‚¬"]})]})]})}),e.jsx(t,{to:"/account",children:e.jsx(m,{variant:"ghost",size:"sm",className:i.isAuthenticated?"text-green-600":"text-gray-600",children:e.jsx(l,{className:"w-4 h-4"})})})]})]})}),e.jsx("div",{className:"bg-[#1B5AAB] py-2",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-md mx-auto relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(L,{type:"search",placeholder:"Cerca prodotti...",className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:d,onChange:s=>y(s.target.value),onKeyDown:s=>{s.key==="Enter"&&k(s)}}),d&&e.jsx("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(b,{className:"w-4 h-4"})})]})})}),a&&e.jsx("div",{ref:p,className:"border-t bg-white max-h-96 overflow-y-auto",children:e.jsxs("nav",{className:"px-4 py-2 pb-20 space-y-2",children:[e.jsxs(t,{to:"/",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Home"]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>v(!x),className:"flex items-center justify-between w-full text-gray-700 hover:text-gray-900 transition-colors py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}),"Shop"]}),x?e.jsx(S,{className:"w-4 h-4"}):e.jsx(I,{className:"w-4 h-4"})]}),x&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsxs(t,{to:"/products",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),"Tutti i prodotti"]}),e.jsxs(t,{to:"/products?category=acqua",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})}),"Acqua"]}),e.jsxs(t,{to:"/products?category=birra",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full"})}),"Birra"]}),e.jsxs(t,{to:"/products?category=bevande",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})}),"Bevande"]}),e.jsxs(t,{to:"/products?category=vino",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors py-1",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-3 h-3 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})}),"Vino"]})]})]}),e.jsxs(t,{to:"/about",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Chi siamo"]}),e.jsxs(t,{to:"/contact",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Contatti"]}),e.jsxs(t,{to:"/faq",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-bold",children:"?"})}),"FAQ"]}),e.jsxs(t,{to:"/cart",className:"flex items-center text-gray-700 hover:text-gray-900 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Carrello (",o,")"]}),i.isAuthenticated?e.jsxs(t,{to:"/account",className:"flex items-center text-green-600 hover:text-green-800 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Il mio account"]}):e.jsxs(t,{to:"/login",className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors py-2",onClick:()=>r(!1),children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Accedi"]})]})})]}),e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t z-50",children:e.jsxs("div",{className:"flex justify-around",children:[e.jsxs(t,{to:"/",className:"flex flex-col items-center py-2 px-3 text-gray-600",children:[e.jsx(w,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),e.jsxs(t,{to:"/products",className:"flex flex-col items-center py-2 px-3 text-gray-600",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"}),e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"}),e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"}),e.jsx("div",{className:"w-2 h-2 bg-current rounded-sm"})]})}),e.jsx("span",{className:"text-xs mt-1",children:"Categorie"})]}),e.jsxs(t,{to:"/products?search=focus",className:"flex flex-col items-center py-2 px-3 text-blue-600 bg-blue-50 rounded-lg mx-1",children:[e.jsx(f,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1 font-medium",children:"Cerca"})]}),e.jsxs(t,{to:"/cart",className:"flex flex-col items-center py-2 px-3 text-gray-600 relative",children:[e.jsx(u,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Carrello"}),o>0&&e.jsx(C,{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full p-0 flex items-center justify-center text-xs bg-red-500",children:o})]}),e.jsxs(t,{to:"/account",className:"flex flex-col items-center py-2 px-3 text-gray-600",children:[e.jsx(l,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs mt-1",children:"Account"})]})]})})]})};export{C as B,_ as H};
